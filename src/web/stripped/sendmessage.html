<!doctype html><link rel=stylesheet href=style.css><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no"><title>GXAirCom</title><script language=javascript type=text/javascript>var pageNumber=3,settingsView=0,bChangeRow=0,actIndex=0;function removeAll(selectBox){for(;selectBox.options.length>0;)selectBox.remove(0)}function setRows(){var list=document.getElementById("receiver");removeAll(list)}function sendSystemCmd(){document.getElementById("FNTMSGIN").value="";var obj,sMsg="P"+document.getElementById("fanetId").value+document.getElementById("syscmd").value,sManuId=document.getElementById("manuId").value,sReceiver="";sManuId.length>0?sReceiver=sManuId:sReceiver=document.getElementById("receiver").value,obj={receiver:sReceiver,msg:sMsg,sendfanet:3},doSend(JSON.stringify(obj))}function sendValues(){document.getElementById("FNTMSGIN").value="";var obj,sMsg=document.getElementById("msg").value,sManuId=document.getElementById("manuId").value,sReceiver="";sManuId.length>0?sReceiver=sManuId:sReceiver=document.getElementById("receiver").value,obj={receiver:sReceiver,msg:sMsg,sendfanet:3},doSend(JSON.stringify(obj))}function changeRow(key,myObj){console.log("index: "+actIndex);var list=document.getElementById("receiver"),name="";myObj.NAME!=""&&(name+=myObj.NAME+" "),name+="["+myObj.ID+"]";let newOption=new Option(name,myObj.ID);list.add(newOption,0[0])}function onMessage(evt){console.log("Received: "+evt.data);var key,e,myObj=JSON.parse(evt.data);for(key of Object.keys(myObj)){if(console.log(key+" -> "+myObj[key]),key=="NBCount"){setRows(myObj[key]);continue}if(key=="setView"){settingsView=myObj[key];continue}if(key=="INDEX"){actIndex=myObj[key]+1,bChangeRow=1;break}if(e=document.getElementById(key),e==null)continue;e instanceof HTMLSelectElement?document.getElementById(key).value=myObj[key]:e instanceof HTMLInputElement&&e.getAttribute("type")=="checkbox"?myObj[key]==1?document.getElementById(key).checked=!0:document.getElementById(key).checked=!1:(document.getElementById(key).textContent=myObj[key],document.getElementById(key).value=myObj[key])}bChangeRow==1?changeRow(key,myObj):setVis()}function setVis(){document.getElementById("visSendSystemCmd").style.display="none",settingsView==SETTING_EXPERT&&(document.getElementById("visSendSystemCmd").style.display="")}function doSend(message){console.log("Sending: "+message),websocket.send(message)}</script><script type=text/javascript src=scripts.js></script><div style=text-align:left;display:inline-block;color:#eaeaea;min-width:340px><div style=text-align:center;color:#eaeaea><noscript>JavaScript aktivieren um GXAirCom benutzen zu k√∂nnen<br></noscript><h1 id=appname></h1><h3 id=buildDate></h3><h3 id=pilot></h3><h3 id=myIP></h3></div><fieldset><legend><b>send message to device</b></legend><table style=width:100%><tbody><tr><th>receiver<td><select name=receiver id=receiver><option value=000000>Send to All</select><tr><th>manual id (only if id is not in list)<td><input type=text id=manuId name=manuId maxlength=6><tr><th>message<td><input type=text id=msg name=msg maxlength=66></table><br>* Limited to 66 characters max<br><br><button id=btnsend name=btnsend onclick=sendValues() class="button bgrn">send</button></fieldset><p><p><fieldset><legend><b>last received MSG</b></legend><table style=width:100%><tbody><tr><td><input type=text id=FNTMSGIN disabled></table></fieldset><p><p><fieldset id=visSendSystemCmd><legend><b>send System command</b></legend><table style=width:100%><tbody><tr><th>FANET PIN<td><input type=number id=fanetId min=0000 max=9999 step=1><tr><th>command<td><select id=syscmd><option value="#SYC VER?">check version<option value="#SYC NAME?">check name<option value="#SYC TYPE?">check aircrafttype<option value="#SYC AIRMODE?">check airmode<option value="#SYC FUEL_SENSOR?">check fuelsensor<option value="#SYC MODE?">check mode<option value="#SYC OUTMODE?">check outpout-mode<option value="#SYC RFMODE?">check rf-mode<option value="#SYC RESTART">do restart<option value="#SYC DOUPDATE">update station<option value="#SYC NETSTAT?">check network state<option value="#SYC WIFI=1">set Wifi on<option value="#SYC WIFI=0">set Wifi off</select></table><button onclick=sendSystemCmd() class="button bgrn">send command</button></fieldset><p><p><table style=width:100%><tr><td style=width:100%><button onclick='location.href="/index.html"'>main menu</button></table><p><div style=text-align:right;font-size:11px><hr><a href=https://www.getronix.at target=_blank style=color:#aaa>GXAirCom by Gerald Eichler</a></div></div>